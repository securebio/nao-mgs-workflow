nextflow_process {

    name "Test process CREATE_EMPTY_GROUP_OUTPUTS"
    script "modules/local/createEmptyGroupOutputs/main.nf"
    process "CREATE_EMPTY_GROUP_OUTPUTS"
    config "tests/configs/run.config"
    tag "module"
    tag "create_empty_group_outputs"

    test("Should create empty output files for missing groups") {
        tag "expect_success"
        when {
            params {}
            process {
                '''
                input[0] = ["group1", "group2"]
                input[1] = "${projectDir}/pyproject.toml"
                input[2] = "illumina"
                input[3] = ""
                '''
            }
        }
        then {
            assert process.success
        }
    }

}
