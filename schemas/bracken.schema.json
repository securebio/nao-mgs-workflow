{
  "$schema": "https://datapackage.org/profiles/2.0/tableschema.json",
  "title": "Bracken Abundance Estimates Per Sample",
  "description": "Bracken abundance estimates for each sample within a group, as produced by the RUN workflow and concatenated by the DOWNSTREAM workflow. Each row represents one taxon's abundance estimate for a sample, split by ribosomal/non-ribosomal classification.",
  "missingValues": ["", "NA"],
  "primaryKey": ["group", "sample", "taxid", "ribosomal"],
  "fields": [
    {
      "name": "name",
      "title": "Taxon Name",
      "description": "Name of the taxon.",
      "type": "string",
      "constraints": {
        "required": true,
        "minLength": 1
      },
      "example": "Viruses"
    },
    {
      "name": "taxid",
      "title": "Taxonomy ID",
      "description": "NCBI taxonomy ID for the taxon.",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      },
      "example": 10239
    },
    {
      "name": "rank",
      "title": "Taxonomic Rank",
      "description": "Taxonomic rank code (e.g. D for domain, S for species).",
      "type": "string",
      "constraints": {
        "required": true,
        "minLength": 1
      },
      "example": "D"
    },
    {
      "name": "kraken2_assigned_reads",
      "title": "Kraken2 Assigned Reads",
      "description": "Number of reads assigned to this taxon by Kraken2 before Bracken redistribution.",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      },
      "example": 15
    },
    {
      "name": "added_reads",
      "title": "Added Reads",
      "description": "Number of reads redistributed to this taxon by Bracken.",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      },
      "example": 0
    },
    {
      "name": "new_est_reads",
      "title": "New Estimated Reads",
      "description": "New estimated number of reads after Bracken redistribution.",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      },
      "example": 15
    },
    {
      "name": "fraction_total_reads",
      "title": "Fraction of Total Reads",
      "description": "Fraction of total reads assigned to this taxon after Bracken redistribution.",
      "type": "number",
      "constraints": {
        "required": true,
        "minimum": 0,
        "maximum": 1
      },
      "example": 0.6
    },
    {
      "name": "sample",
      "title": "Sample",
      "description": "Sample identifier from the RUN workflow.",
      "type": "string",
      "constraints": {
        "required": true,
        "minLength": 1
      },
      "example": "sample_1"
    },
    {
      "name": "ribosomal",
      "title": "Ribosomal",
      "description": "Whether this row is from ribosomal (TRUE) or non-ribosomal (FALSE) read classification.",
      "type": "string",
      "constraints": {
        "required": true,
        "enum": ["TRUE", "FALSE"]
      },
      "example": "FALSE"
    },
    {
      "name": "group",
      "title": "Group",
      "description": "Group identifier assigned to this sample in the grouping TSV.",
      "type": "string",
      "constraints": {
        "required": true,
        "minLength": 1
      },
      "example": "group_1"
    }
  ]
}
