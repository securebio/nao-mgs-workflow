/************************************************
| CONFIGURATION FILE FOR NAO VIRAL MGS WORKFLOW |
************************************************/

// This template is appropriate for "run" workflow on non-ONT platforms (illumina, pacbio, or aviti)

params {
    mode = "run"

    // Sequencing platform
    platform = "PLATFORM" // One of "illumina", "pacbio", "aviti"; for "ont", instead start with run_ont.config

    // Directories
    base_dir = "PATH_TO_BASE_DIRECTORY" // Parent for working and output directories (can be S3)
    ref_dir = "PATH_TO_REFERENCE_DIRECTORY" // Reference/index directory (generated by index workflow)

    // Files
    sample_sheet = "${launchDir}/samplesheet.csv" // Path to library TSV
    adapters = "${projectDir}/ref/adapters.fasta" // Path to adapter file for adapter trimming

    // Other required parameters
    n_reads_profile = 1000000 // Number of reads per sample to run through taxonomic profiling
    bt2_score_threshold = 20 // Normalized score threshold for calling a host-infecting virus read (typically 15 or 20)
    bracken_threshold = 1 // Bracken read threshold (default 10, can be lowered for testing on very small datasets)
    random_seed = "17310" // Random seed for non-deterministic processes. Empty string -> random seed.
    taxid_artificial = "81077" // Parent taxid for artificial sequences in NCBI taxonomy
}

process.queue = "JOB_QUEUE_NAME" // AWS Batch job queue
includeConfig "${projectDir}/configs/logging.config"
includeConfig "${projectDir}/configs/containers.config"
includeConfig "${projectDir}/configs/resources.config"
includeConfig "${projectDir}/configs/profiles.config"
includeConfig "${projectDir}/configs/output.config"
